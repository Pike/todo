{% extends "base.html" %}
{% load recurse %}

{% block title_matter %}productization dashboard{% endblock %}
{% block head_matter %}
<style>
  body {
     margin: 2em 6em 6em;
  }
  p, form {
    margin: 0;
    padding: 0;
  }
  small {
    font-size: 80%;
    color: #666;
  }
  strong {
    font-weight: normal;
  }
  #menu {
    margin: 0 20px 6em;
    padding: 10px;
    font-size: small;
    font-style: italic;
    background-color: #eee;
  }
  .task, .todo {
    margin: 10px 20px;
  }
  .task {
    border: 1px solid #ccc;
    margin-bottom: 4em;
    padding: 10px;
  }
  .task > form > strong {
    font-size: 1.3em;
  }
  .todo {
    font-style: italic;
  }
  select {
    display: none;
  }
  div:hover > form > select {
    display: inline;
  }
</style>
{% endblock %}



{% block content %}
  <div id="menu">
    <a href="{% url todo.views.index %}">&larr; back</a>
  </div>

  <div class="task">
    <form action="{% url todo.views.change todo.id %}" method="post">
      <strong>{{todo.summary}}</strong>
    </form>
    {% with todo.children.all as todos %}
    {% recurse_children %}
      {% for todo in todos %}
        <div class="todo">
          <form action="{% url todo.views.change todo.id %}" method="post">
            <input type="checkbox"/>
            <strong>{{todo.summary}}</strong>
          </form>
          {% recurse todo.children.all as todos %}
        </div>
      {% endfor %}
    {% endrecurse %}
    {% endwith %}
  </div>

{% endblock %}
